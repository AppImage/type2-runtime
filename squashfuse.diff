diff --git a/BUILD.bazel b/BUILD.bazel
index f9ec382..05f8e63 100644
--- a/BUILD.bazel
+++ b/BUILD.bazel
@@ -109,6 +109,7 @@ cc_library(
         "@libfuse",
         "@zlib",
         "@zstd",
+        "@kernel_headers",
     ],
 )
 
diff --git a/MODULE.bazel b/MODULE.bazel
index 4920158..e369696 100644
--- a/MODULE.bazel
+++ b/MODULE.bazel
@@ -3,4 +3,8 @@ module(name = "squashfuse", version = "0.5.2")
 bazel_dep(name = "libfuse", version = "3.16.2")
 bazel_dep(name = "rules_cc", version = "0.0.9")
 bazel_dep(name = "zlib", version = "1.3.1")
-bazel_dep(name = "zstd", version = "1.5.6")
+bazel_dep(name = "zstd", version = "1.5.6")
+
+bazel_dep(name = "toolchains_llvm_bootstrapped", version = "0.2.4")
+kernel_headers = use_extension("@toolchains_llvm_bootstrapped//kernel/extension:kernel_headers.bzl", "kernel_headers")
+use_repo(kernel_headers, "kernel_headers")
+
